<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Event Portal</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.1/font/bootstrap-icons.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#home">
                <i class="bi bi-calendar-event me-2"></i>
                Community Portal
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#events">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#registration">Register</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="help.html" target="_blank">Help</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <main style="padding-top: 100px;">
        <section id="home" class="container">
            <div id="welcomeBanner" class="text-center">
                <div class="container position-relative">
                    <h1 class="display-4 fw-bold mb-3">Welcome to Our Community Portal</h1>
                    <p class="lead mb-4">
                        Discover amazing local events and connect with your community
                    </p>
                    <p class="mb-0">
                        <span class="highlight" style="font-weight: bold;">Special Offer: 20% off all workshop registrations this month!</span>
                    </p>
                    <button class="btn btn-light btn-lg mt-3" onclick="findNearbyEvents()">
                        <i class="bi bi-geo-alt me-2"></i>Find Nearby Events
                    </button>
                </div>
            </div>
            <div class="row mt-5">
                <div class="col-12">
                    <h2 class="text-center mb-4" id="recent">Recent Community Events</h2>
                    <div class="table-responsive">
                        <table class="table">
                            <caption class="text-center text-grey mt-3">Past community events gallery</caption>
                            <thead>
                                <tr>
                                    <th>Music Festival</th>
                                    <th>Art Workshop</th>
                                    <th>Food Fair</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <img src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop" 
                                             alt="Music Festival" title="Summer Music Festival 2024" 
                                             class="img-fluid rounded event-gallery-img"
                                             ondblclick="enlargeImage(this)">
                                    </td>
                                    <td>
                                        <img src="https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=400&h=300&fit=crop" 
                                             alt="Art Workshop" title="Community Art Workshop" 
                                             class="img-fluid rounded event-gallery-img"
                                             ondblclick="enlargeImage(this)">
                                    </td>
                                    <td>
                                        <img src="https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=400&h=300&fit=crop" 
                                             alt="Food Fair" title="Annual Food Fair" 
                                             class="img-fluid rounded event-gallery-img"
                                             ondblclick="enlargeImage(this)">
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <img src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=300&fit=crop" 
                                             alt="Sports Day" title="Community Sports Day" 
                                             class="img-fluid rounded event-gallery-img"
                                             ondblclick="enlargeImage(this)">
                                    </td>
                                    <td>
                                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=300&fit=crop" 
                                             alt="Book Club" title="Monthly Book Club Meeting" 
                                             class="img-fluid rounded event-gallery-img"
                                             ondblclick="enlargeImage(this)">
                                    </td>
                                    <td>
                                        <img src="https://images.unsplash.com/photo-1530103862676-de8c9debad1d?w=400&h=300&fit=crop" 
                                             alt="Garden Club" title="Community Garden Workshop" 
                                             class="img-fluid rounded event-gallery-img"
                                             ondblclick="enlargeImage(this)">
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="row mt-5">
                <div class="col-lg-8 mx-auto text-center">
                    <h2 class="text-black mb-4">Community Highlights</h2>
                    <video width="100%" height="400" controls oncanplay="videoReady()">
                        <source src="https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <div id="videoStatus" class="mt-3 text-white"></div>
                </div>
            </div>
        </section>
        <section id="events" class="container mt-5">
            <div class="row">
                <div class="col-12">
                    <h2 class="text-center text-black mb-4">Upcoming Events</h2>
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <select class="form-select" id="categoryFilter" onchange="filterEvents()">
                                <option value="">All Categories</option>
                                <option value="music">Music</option>
                                <option value="workshop">Workshop</option>
                                <option value="sports">Sports</option>
                                <option value="arts">Arts</option>
                                <option value="food">Food</option>
                                <option value="education">Education</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <input type="text" class="form-control" id="searchInput" 
                                   placeholder="Search events..." onkeydown="searchEvents(event)">
                        </div>
                    </div>
                    <div id="loadingSpinner" class="text-center" style="display: none;">
                        <div class="spinner"></div>
                        <p class="text-white">Loading events...</p>
                    </div>
                    <div id="eventsContainer" class="row">
                    </div>
                </div>
            </div>
        </section>
        <section id="registration" class="container mt-5">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="form-container">
                        <h2 class="text-center mb-4">Event Registration</h2>
                        <form id="registrationForm" onsubmit="submitRegistration(event)" onbeforeunload="return checkFormCompletion()">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="userName" class="form-label">Full Name</label>
                                    <input type="text" class="form-control" id="userName" name="userName" 
                                           placeholder="Enter your full name" required autofocus>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="userEmail" class="form-label">Email Address</label>
                                    <input type="email" class="form-control" id="userEmail" name="userEmail" 
                                           placeholder="Enter your email" required>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="userPhone" class="form-label">Phone Number</label>
                                    <input type="tel" class="form-control" id="userPhone" name="userPhone" 
                                           placeholder="Enter phone number" onblur="validatePhone(this)" required>
                                    <div id="phoneError" class="text-danger mt-1"></div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="eventDate" class="form-label">Preferred Date</label>
                                    <input type="date" class="form-control" id="eventDate" name="eventDate" required>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="eventType" class="form-label">Event Type</label>
                                <select class="form-select" id="eventType" name="eventType" 
                                        onchange="showEventFee(this)" required>
                                    <option value="">Select an event type</option>
                                    <option value="music">Music Concert - $25</option>
                                    <option value="workshop">Workshop - $15</option>
                                    <option value="sports">Sports Event - $10</option>
                                    <option value="arts">Arts & Crafts - $20</option>
                                    <option value="food">Food Festival - $30</option>
                                    <option value="education">Educational Seminar - $12</option>
                                </select>
                                <div id="eventFee" class="mt-2 text-primary fw-bold"></div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="userMessage" class="form-label">Message</label>
                                <textarea class="form-control" id="userMessage" name="userMessage" rows="4" 
                                          placeholder="Any additional comments..." onkeyup="countCharacters(this)"></textarea>
                                <div id="charCount" class="text-muted mt-1">0 characters</div>
                            </div>
                            
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="agreeTerms" required>
                                <label class="form-check-label" for="agreeTerms">
                                    I agree to the terms and conditions
                                </label>
                            </div>
                            
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <button type="button" class="btn btn-outline-secondary me-md-2" onclick="clearPreferences()">
                                    Clear Preferences
                                </button>
                                <button type="submit" class="btn btn-primary" onclick="showConfirmation()">
                                    <i class="bi bi-check-circle me-2"></i>Register Now
                                </button>
                            </div>
                            
                            <output id="confirmationMessage" class="d-block mt-3 alert alert-success" style="display: none !important;"></output>
                        </form>
                    </div>
                </div>
            </div>
        </section>
        <section id="contact" class="container mt-5">
            <div class="row">
                <div class="col-lg-8 mx-auto text-center">
                    <div class="form-container">
                        <h2 class="mb-4">Contact Us</h2>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <i class="bi bi-geo-alt-fill fs-1"></i>
                                <h5 class="mt-2">Location</h5>
                                <p>123 Street<br>Tamil Nadu, 600036</p>
                            </div>
                            <div class="col-md-4 mb-3">
                                <i class="bi bi-telephone-fill fs-1"></i>
                                <h5 class="mt-2">Phone</h5>
                                <p>9876543210</p>
                            </div>
                            <div class="col-md-4 mb-3">
                                <i class="bi bi-envelope-fill fs-1"></i>
                                <h5 class="mt-2">Email</h5>
                                <p>info@demomail.com</p>
                            </div>
                        </div>
                        <div class="mt-4">
                            <h4>Feedback</h4>
                            <form id="feedbackForm">
                                <div class="mb-3">
                                    <select class="form-select" id="feedbackEvent" onchange="displaySelectedEvent()">
                                        <option value="">Select an event to rate</option>
                                        <option value="Summer Music Festival">Summer Music Festival</option>
                                        <option value="Art Workshop">Community Art Workshop</option>
                                        <option value="Food Fair">Annual Food Fair</option>
                                    </select>
                                    <div id="selectedEventFee" class="mt-2 text-info"></div>
                                </div>
                                <div class="mb-3">
                                    <textarea class="form-control" id="feedbackText" 
                                              placeholder="Share your feedback..." rows="3"
                                              onkeyup="countFeedbackCharacters(this)"></textarea>
                                    <div id="feedbackCharCount" class="text-muted mt-1">0 characters</div>
                                </div>
                                <button type="button" class="btn btn-primary" onclick="submitFeedback()">
                                    Submit Feedback
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-5">
                <div class="col-12">
                    <div class="form-container">
                        <h3 class="text-center mb-4">Community News</h3>
                        <div class="news-section">
                            <p><strong>New Community Garden Opens:</strong> We're excited to announce the opening of our new community garden space. Located behind the community center, this 2-acre space will provide residents with plots to grow their own vegetables and flowers. Registration for plots begins next Monday.</p>
                            
                            <p><strong>Summer Reading Program:</strong> The library's summer reading program kicks off next week! This year's theme is "Adventure Awaits" and includes weekly storytimes, book clubs for different age groups, and exciting prizes for participants who complete their reading goals.</p>
                            
                            <p><strong>Volunteer Opportunities:</strong> We're looking for volunteers to help with our upcoming events. Whether you have an hour or a whole day to spare, there's a perfect opportunity for you. From event setup to helping with registration, every contribution makes our community stronger.</p>
                            
                            <p><strong>Safety Notice:</strong> Please remember to lock your vehicles and homes, especially during evening hours. Our neighborhood watch program meets every first Tuesday of the month at 7 PM in the community center.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer class="mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>Community Portal</h5>
                    <p>Connecting neighbors, building community.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <h5>Follow Us</h5>
                    <div class="social-icons">
                        <a href="https://www.github.com/abishekkhanna" class="text-white me-3"><i class="bi bi-github fs-4"></i></a>
                        <a href="https://www.instagram.com/abishek_khanna_" class="text-white me-3"><i class="bi bi-instagram fs-4"></i></a>
                        <a href="https://www.linkedin.com/in/abishekkhanna/" class="text-white"><i class="bi bi-linkedin fs-4"></i></a>
                    </div>
                </div>
            </div>
            <hr class="my-4">
            <div class="text-center">
                <p>&copy; 2024 Community Portal. All rights reserved.</p>
            </div>
        </div>
    </footer>
    <div class="modal fade" id="imageModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Event Image</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body text-center">
                    <img id="enlargedImage" class="img-fluid" src="" alt="">
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script src="main.js"></script>
</body>
</html>